import{$ as C,Ca as b,Da as u,Ea as o,Fa as D,Ga as j,H as I,Ia as N,Ja as z,K as w,Ka as O,L as M,Ma as f,Na as v,O as E,Q as S,Qa as $,V as _,W as g,Xa as Q,Z as P,ab as U,cb as W,da as V,db as A,fb as q,ga as s,h as F,ha as h,ia as R,la as T,pa as x,qa as d,sb as X,tb as B,wa as l,xa as c,ya as y}from"./chunk-7QUWYAMQ.js";var k=(()=>{class n{constructor(e){this.viewContainerRef=e}static{this.\u0275fac=function(t){return new(t||n)(h(T))}}static{this.\u0275dir=S({type:n,selectors:[["","dcWrapper",""]],standalone:!0})}}return n})();var p=function(n){return n.Create="Create",n.Read="Read",n.Update="Update",n.Delete="Delete",n}(p||{});var H=["*","*"];function L(n,a){}function Y(n,a){if(n&1){let e=b();l(0,"button",22),u("click",function(){_(e);let i=o(2).$implicit,r=o();return g(r.submit(i))}),f(1),c()}if(n&2){let e=o(2).$implicit;s(),v(e.title)}}function Z(n,a){if(n&1){let e=b();l(0,"button",23),u("click",function(){_(e);let i=o(2).$implicit,r=o();return g(r.submit(i))}),f(1),c()}if(n&2){let e=o(2).$implicit;s(),v(e.title)}}function tt(n,a){if(n&1){let e=b();l(0,"button",24),u("click",function(){_(e);let i=o(2).$implicit,r=o();return g(r.submit(i))}),f(1),c()}if(n&2){let e=o(2).$implicit;s(),v(e.title)}}function et(n,a){if(n&1&&x(0,Y,2,1,"button",19)(1,Z,2,1,"button",20)(2,tt,2,1,"button",21),n&2){let e=o().$implicit,t=o();d("ngIf",e.action==t.create&&(t.forms==null||t.actualStep==t.forms.length-1)),s(),d("ngIf",e.action==t.edit&&(t.forms==null||t.actualStep==t.forms.length-1)),s(),d("ngIf",e.action==t.delete&&(t.forms==null||t.actualStep==t.forms.length-1))}}function nt(n,a){n&1&&j(0,0,["*ngFor","let action of actions"],et,3,3)}function it(n,a){if(n&1){let e=b();l(0,"button",27),u("click",function(){_(e);let i=o(4);return g(i.toggleNext())}),f(1," Siguiente Paso "),c()}}function ot(n,a){if(n&1){let e=b();l(0,"div",26)(1,"button",27),u("click",function(){_(e);let i=o(3);return g(i.togglePrev())}),f(2," Paso Previo "),c(),x(3,it,2,0,"button",28),c()}if(n&2){let e=o(3);s(3),d("ngIf",e.actualStep!=e.forms.length-1)}}function rt(n,a){if(n&1&&x(0,ot,4,1,"div",25),n&2){let e=o(2);d("ngIf",e.forms.length>1)}}function lt(n,a){n&1&&j(0,1,["*ngIf","forms && forms.length > 0  "],rt,1,1)}var J=(()=>{class n{constructor(e,t){this.elementRef=e,this.iconRegistry=t,this.delete=p.Delete,this.edit=p.Update,this.create=p.Create,this.actualStep=0,this.title="Agregar Elemento",this.iconPath="assets/icons/heroicons/outline/plus.svg",this.size="md",this.actions=[{action:p.Create,title:"Agregar"}],this.closeEvent=new C,this.submitEvent=new C,this.cdr=M(Q)}ngOnInit(){}close(){this.elementRef.nativeElement.remove(),this.closeEvent.emit()}submit(e){this.elementRef.nativeElement.remove(),this.submitEvent.emit({form:this.forms,data:this.data,action:e})}ngAfterViewInit(){this.cdr.detectChanges(),this.loadComponent()}loadComponent(){let e=this.dcWrapper.viewContainerRef;e.clear();let t=e.createComponent(this.component);t.instance.forms=this.forms,t.instance.data=this.data,t.instance.onCreateModal?.subscribe({next:i=>{this.listenerFromChild=i}}),this.cdr.detectChanges()}toggleNext(){let{actualForm:e,actualStep:t}=this.listenerFromChild?.onNext();this.actualStep=t,this.cdr.detectChanges()}togglePrev(){let{actualForm:e,actualStep:t}=this.listenerFromChild?.onPrev();this.actualStep=t,this.cdr.detectChanges()}static{this.\u0275fac=function(t){return new(t||n)(h(V),h(X))}}static{this.\u0275cmp=E({type:n,selectors:[["app-modal"]],viewQuery:function(t,i){if(t&1&&N(k,5),t&2){let r;z(r=O())&&(i.dcWrapper=r.first)}},inputs:{title:"title",iconPath:"iconPath",size:"size",forms:"forms",data:"data",actions:"actions",component:"component"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},standalone:!0,features:[$],ngContentSelectors:H,decls:22,vars:4,consts:[["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"relative","z-10"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"fixed","inset-0","z-10","w-screen","overflow-y-auto"],[1,"flex","min-h-full","items-end","justify-center","p-4","text-center","sm:items-center","sm:p-0"],[1,"relative","w-full","max-w-4xl","transform","overflow-hidden","rounded-lg","bg-card","text-left","shadow-xl","transition-all","sm:my-8","sm:w-full","sm:max-w-4xl"],[1,"bg-card","px-2","pb-2","pt-5","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"relative","w-full","mt-3","text-center","sm:ml-4"],[1,"flex","w-full","text-start","flex-row","gap-2","pr-8","items-start","justify-start"],[1,"flex","flex-row","h-6","w-fit","flex-shrink-0","items-center","justify-start","rounded-full","bg-primary","mx-0"],["alt","",1,"h-6","w-6","text-white",3,"src"],["id","modal-title",1,"text-base","leading-6","font-semibold","text-foreground","text-bold"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"mt-5","relative"],["dcWrapper","","id","item"],[1,"flex","flex-col","bg-background","gap-2","px-4","py-3","sm:flex","md:flex-row-reverse","sm:px-6"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-auto",3,"click"],["type","button","class","inline-flex w-full justify-center rounded-md bg-primary px-3 py-2 text-sm font-semibold text-primary-foreground  shadow-sm  sm:ml-3 sm:w-auto",3,"click",4,"ngIf"],["type","button","class","inline-flex w-full justify-center rounded-md bg-blue-700 px-3 py-2 text-sm font-semibold text-primary-foreground  shadow-sm  sm:ml-3 sm:w-auto",3,"click",4,"ngIf"],["type","button","class","inline-flex w-full justify-center rounded-md  bg-red-600 px-3 py-2 text-sm font-semibold text-primary-foreground  shadow-sm  sm:ml-3 sm:w-auto",3,"click",4,"ngIf"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-primary","px-3","py-2","text-sm","font-semibold","text-primary-foreground","shadow-sm","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-blue-700","px-3","py-2","text-sm","font-semibold","text-primary-foreground","shadow-sm","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-red-600","px-3","py-2","text-sm","font-semibold","text-primary-foreground","shadow-sm","sm:ml-3","sm:w-auto",3,"click"],["class","flex flex-col-reverse w-full md:flex-row md:w-fit items-center justify-center  gap-1 px-1 ",4,"ngIf"],[1,"flex","flex-col-reverse","w-full","md:flex-row","md:w-fit","items-center","justify-center","gap-1","px-1"],[1,"inline-flex","w-full","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-auto",3,"click"],["class","inline-flex w-full justify-center rounded-md bg-background px-3 py-2 text-sm font-semibold text-foreground shadow-sm ring-1 ring-inset ring-foreground hover:bg-card sm:mt-0 sm:w-auto ",3,"click",4,"ngIf"]],template:function(t,i){t&1&&(D(H),l(0,"div",0),y(1,"div",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),y(10,"svg-icon",10),c(),l(11,"h3",11),f(12),c(),l(13,"div",12),u("click",function(){return i.close()}),f(14," X "),c()(),l(15,"div",13),x(16,L,0,0,"ng-template",14),c()()()(),l(17,"div",15),x(18,nt,2,0,"ng-content",16)(19,lt,2,0,"ng-content",17),l(20,"button",18),u("click",function(){return i.close()}),f(21,"Cancelar"),c()()()()()()),t&2&&(s(10),d("src",i.iconPath),s(2),v(i.title),s(6),d("ngForOf",i.actions),s(),d("ngIf",i.forms&&i.forms.length>0))},dependencies:[q,W,A,B,k],encapsulation:2})}}return n})();var It=(()=>{class n{constructor(e,t,i){this.resolver=e,this.injector=t,this.document=i}open(e,t){let r=this.resolver.resolveComponentFactory(J).create(this.injector),m=r.instance;m.title=t?.title,m.size=t?.size||"md",m.forms=t.forms,m.data=t.data,m.iconPath=t?.icon||"assets/icons/heroicons/outline/plus.svg",m.actions=t?.actions||[{action:p.Create,title:"Realizar"}];let st=this.resolver.resolveComponentFactory(e).create(this.injector);return m.component=e,m.closeEvent.subscribe(()=>{this.closeModal()}),m.submitEvent.subscribe(K=>{this.submitModal(K)}),r.hostView.detectChanges(),this.document.body.appendChild(r.location.nativeElement),r.hostView.detectChanges(),this.modalNotifier=new F,this.modalNotifier.asObservable()}closeModal(){this.modalNotifier?.complete()}submitModal(e){this.modalNotifier?.next(e),this.closeModal()}static{this.\u0275fac=function(t){return new(t||n)(w(R),w(P),w(U))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{k as a,p as b,It as c};
